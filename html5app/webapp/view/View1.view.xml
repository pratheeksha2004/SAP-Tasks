<mvc:View controllerName="com.pratheeksha.ui.html5app.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout">

    <Page id="idPage" title="{i18n>title}">
        <VBox id="idVBoxContainer" class="sapUiSmallMargin"> <!-- Changed class for less margin -->

            <!-- Form Section -->
            <l:Grid id="idFormGrid" defaultSpan="L12 M12 S12" width="auto" class="sapUiSmallMarginBottom" hSpacing="1" vSpacing="1"> <!-- Adjusted spacing/width -->

                <Label id="idLabelName" text="{i18n>myname}" labelFor="idInputName" required="true"/> <!-- Added required indicator -->
                <Input id="idInputName" placeholder="Enter your name" width="100%" /> <!-- Adjusted width -->

                <Label id="idLabelAge" text="{i18n>age}" labelFor="idInputAge" required="true"/> <!-- Added required indicator -->
                <Input id="idInputAge" placeholder="Enter your age" type="Number" width="100%"/> <!-- Adjusted width -->

                <!-- Save Button -->
                <Button id="idBtnSave" text="{i18n>Save}" icon="sap-icon://save" press=".onSavePress" type="Emphasized" /> <!-- Removed fixed width -->

            </l:Grid> <!-- End of Form Grid -->

            <!-- Navigation Button - ADDED HERE -->
            <Button
                id="idBtnNavToView2"
                text="Show Products"
                icon="sap-icon://list"
                press=".onNavToView2Press"
                type="Transparent"
                class="sapUiSmallMarginBottom"/>

            <!-- Table Section -->
            <Table
                id="idTableData"
                class="sapUiSmallMarginTop"
                items="{formModel>/details}"
                inset="false"
                width="auto">

                <!-- Table Header Toolbar with Search and Sort -->
                <headerToolbar>
                    <Toolbar id="idHeaderToolbar">
                        <Title id="idTableTitle" text="Saved Details" level="H2"/>
                        <ToolbarSpacer id="idToolbarSpacer"/> <!-- Pushes elements to the right -->
                        <SearchField
                            id="idSearchField"
                            width="auto"
                            placeholder="Search by Name or Age..."
                            search=".onSearch"
                            liveChange=".onSearch"/> <!-- Trigger search on type or enter -->
                        <Button
                            id="idSortButton"
                            icon="sap-icon://sort"
                            tooltip="Sort by Name"
                            press=".onSort"/> <!-- Sort button -->
                    </Toolbar>
                </headerToolbar>

                <columns>
                    <Column id="idColName" width="auto">
                        <Text id="idTxtColName" text="Name" />
                    </Column>
                    <Column id="idColAge" hAlign="End" width="5em"> <!-- Aligned age right -->
                        <Text id="idTxtColAge" text="Age" />
                    </Column>
                    <Column id="idColAction" hAlign="Center" width="5em"> <!-- Centered actions -->
                        <Text id="idTxtColAction" text="Actions" />
                    </Column>
                </columns>

                <items>
                    <ColumnListItem id="idColListItem" type="Active"> <!-- Row type -->
                        <cells>
                            <Text id="idTxtName" text="{formModel>name}" />
                            <Text id="idTxtAge" text="{formModel>age}" />
                            <Button id="idBtnDelete"
                                icon="sap-icon://delete"
                                tooltip="Delete Row"
                                press=".onDeletePress"
                                type="Reject" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>

        </VBox>
    </Page>
</mvc:View>